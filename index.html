<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recomendador de Rock</title>
    <!-- Tailwind CSS para un diseño rápido y responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts para un estilo más moderno -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Efecto de aurora en el fondo */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 10% 20%, rgba(14, 165, 233, 0.2), transparent 40%),
                        radial-gradient(circle at 80% 90%, rgba(168, 85, 247, 0.2), transparent 40%);
            z-index: -1;
            animation: move-glow 15s linear infinite;
        }

        @keyframes move-glow {
            0% { transform: translate(0, 0); }
            50% { transform: translate(20px, -30px); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body class="bg-slate-900 text-white flex items-center justify-center min-h-screen p-4 overflow-hidden relative">

    <!-- Contenedor principal de la recomendación -->
    <main class="w-full max-w-sm flex flex-col items-center text-center transition-all duration-300" id="song-card">
        
        <!-- Imagen de la canción/banda -->
        <img id="song-image" src="https://placehold.co/600x400/1a202c/ffffff?text=Rock+On" alt="Imagen de la banda" class="w-full h-80 object-cover rounded-2xl shadow-2xl shadow-cyan-500/20 transition-opacity duration-500">

        <!-- Detalles de la canción -->
        <div class="mt-6">
            <h1 id="song-title" class="font-black text-3xl md:text-4xl tracking-tight text-white mb-2">
                Cargando...
            </h1>
            <p id="song-artist" class="text-lg text-slate-400">
                Un momento...
            </p>
        </div>

        <!-- Botones de acción -->
        <div class="w-full flex flex-col space-y-4 mt-10">
            <!-- Enlace a YouTube (estilo tonal) -->
            <a id="youtube-link" href="#" target="_blank" rel="noopener noreferrer" class="w-full bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 font-bold py-5 px-6 rounded-full text-center text-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center">
                <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg>
                <span>Ver en YouTube</span>
            </a>
            
            <!-- Botón para obtener otra recomendación (estilo principal/filled) -->
            <button id="new-song-btn" class="w-full bg-cyan-500 hover:bg-cyan-600 text-slate-900 font-bold py-5 px-6 rounded-full text-center text-xl transition-all duration-300 transform hover:scale-105">
                Otra recomendación
            </button>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const songTitleEl = document.getElementById('song-title');
            const songArtistEl = document.getElementById('song-artist');
            const songImageEl = document.getElementById('song-image');
            const youtubeLinkEl = document.getElementById('youtube-link');
            const newSongBtn = document.getElementById('new-song-btn');
            const songCard = document.getElementById('song-card');

            // Lista de canciones de rock
            const songs = [
                {
                    title: "Heartbeat City",
                    artist: "The Cars",
                    youtubeId: "9cL5-42Hg5E",
                    imageUrl: "https://images.genius.com/c42571c8153b40e875eb1752c31e38d0.1000x1000x1.jpg"
                },
                {
                    title: "Blitzkrieg Bop",
                    artist: "Ramones",
                    youtubeId: "268C3N2dDYk",
                    imageUrl: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRBRiXImiWzX8hFbAapcmae4qXeDnz6Z_B4EQ&s"
                },
                {
                    title: "Arnold Layne",
                    artist: "Pink Floyd",
                    youtubeId: "H3DGpINHX5Q",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b2735c90666b93c02330eb5dac99"
                },
                {
                    title: "5 Years Time",
                    artist: "Noah And The Whale",
                    youtubeId: "qxrk1XWqfu4",
                    imageUrl: "https://upload.wikimedia.org/wikipedia/en/thumb/b/b3/Noah-whale-five-years-time-1-.jpg/250px-Noah-whale-five-years-time-1-.jpg"
                },
                {
                    title: "Me Falta el Aliento",
                    artist: "Estopa",
                    youtubeId: "SOsFYpBQz80",
                    imageUrl: "https://i1.sndcdn.com/artworks-v6vtXKZdDD9o-0-t500x500.jpg"
                },
                {
                    title: "Chica de Ayer",
                    artist: "Nacha Pop",
                    youtubeId: "lWgXgcTABqg",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b273a5895b4e7aed6169f84810e1"
                },
                {
                    title: "Disco Eterno",
                    artist: "Soda Stereo",
                    youtubeId: "hgMdGGfhkyA",
                    imageUrl: "https://cdn-images.dzcdn.net/images/cover/2c582646c84060f762dd339af586fb16/1900x1900-000000-80-0-0.jpg"
                },
                {
                    title: "A un minuto de ti",
                    artist: "Mikel Erentxun",
                    youtubeId: "h_I9xto06A0",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b2739f0f39e5d988df4a7cde9e99"
                },
                {
                    title: "You're the Inspiration",
                    artist: "Chicago",
                    youtubeId: "ljcenbOOnFk",
                    imageUrl: "https://upload.wikimedia.org/wikipedia/en/8/8f/Chicago_inspiration.jpg"
                },
                {
                    title: "Baby Come Back",
                    artist: "Player",
                    youtubeId: "NmEyGiaqm7k",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b2734404daeef23e0c606616b9a"
                },
                {
                    title: "Another Day in Paradise",
                    artist: "Phil Collins",
                    youtubeId: "Qt2mbGP6vFI",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b27307b486f09d5c8352b5f66ea0"
                },
                {
                    title: "Be Thankful For What You've Got (Live)",
                    artist: "William DeVaughn",
                    youtubeId: "HbygM0kNo_A",
                    imageUrl: "https://m.media-amazon.com/images/I/5118lfmc+IL._UXNaN_FMjpg_QL85_.jpg"
                },
                {
                    title: "Knockin' on Heavens Door",
                    artist: "Bob Dylan",
                    youtubeId: "O-sVpVIovKk",
                    imageUrl: "https://m.media-amazon.com/images/M/MV5BYzM2ZDM0YjUtODk5ZC00NTY2LTliN2QtODk1MGVmYjM1ZjNkXkEyXkFqcGc@._V1_.jpg"
                },
                {
                    title: "Azul",
                    artist: "Zoé",
                    youtubeId: "Grq_h8S_UlE",
                    imageUrl: "https://cdn-images.dzcdn.net/images/cover/07c02fdf1e394c0ebc25d3b2ca05a928/500x500.jpg"
                },
                {
                    title: "Tubthumping",
                    artist: "Chumbawamba",
                    youtubeId: "2H5uWRjFsGc",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b273ce0e813b2e3c71fcaa5005b7"
                },
                {
                    title: "Punkrocker (con Iggy Pop)",
                    artist: "Teddybears",
                    youtubeId: "8P09rxVaQAM",
                    imageUrl: "https://is1-ssl.mzstatic.com/image/thumb/Music/e1/a1/48/mzi.ezsditbk.jpg/1449x1449bb.jpg"
                },
                {
                    title: "Right Here Waiting",
                    artist: "Richard Marx",
                    youtubeId: "S_E2EHVxNAE",
                    imageUrl: "https://i1.sndcdn.com/artworks-MXDLTmBHNm7yNCa6-gTS7fA-t1080x1080.jpg"
                },
                {
                    title: "Lovesong",
                    artist: "The Cure",
                    youtubeId: "ks_qOI0lzho",
                    imageUrl: "https://cdn1.umg3.net/452/files/1989/08/lovesong.jpg"
                },
                {
                    title: "Aquí no podemos hacerlo (JB Dub Mix)",
                    artist: "Los Planetas",
                    youtubeId: "H2kpsYjLt8E",
                    imageUrl: "https://i.scdn.co/image/ab67616d00001e0285043aee35906b4ae5810d65"
                },
                {
                    title: "Tus Ojos",
                    artist: "Los Cafres",
                    youtubeId: "UdITqp3EmHI",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b27346a888765544d2f977c5dc21"
                },
                {
                    title: "Dancing with Myself",
                    artist: "Billy Idol",
                    youtubeId: "FG1NrQYXjLU",
                    imageUrl: "https://i.scdn.co/image/ab67616d0000b2735886324a0c2eb6e2772f31f5"
                },
                {
                    title: "More Than a Feeling",
                    artist: "Boston",
                    youtubeId: "t4QK8RxCAwo",
                    imageUrl: "https://upload.wikimedia.org/wikipedia/en/d/d8/MoreThanAFeeling%28Boston%29.jpg"
                }
            ];

            let shuffledSongs = [];
            let currentSongIndex = 0;

            // Función para barajar la lista de canciones (Algoritmo Fisher-Yates)
            function shuffle(array) {
                let m = array.length, t, i;
                // Mientras queden elementos a barajar...
                while (m) {
                    // Escoge un elemento restante...
                    i = Math.floor(Math.random() * m--);
                    // Y cámbialo por el elemento actual.
                    t = array[m];
                    array[m] = array[i];
                    array[i] = t;
                }
                return array;
            }


            // Función para mostrar la siguiente canción
            function displayNextSong() {
                // Añade una clase para la animación de salida
                songCard.classList.add('opacity-0', 'scale-95');

                setTimeout(() => {
                    // Si hemos llegado al final de la lista barajada, la volvemos a barajar
                    if (currentSongIndex >= shuffledSongs.length) {
                        shuffledSongs = shuffle([...songs]); // Se baraja una copia
                        currentSongIndex = 0;
                        console.log("Playlist re-shuffled!");
                    }

                    const song = shuffledSongs[currentSongIndex];
                    currentSongIndex++; // Apunta a la siguiente canción para el próximo click

                    // Extraer solo el ID del video si la URL incluye parámetros
                    const youtubeUrl = new URL(`https://youtu.be/${song.youtubeId}`);
                    const videoId = youtubeUrl.searchParams.get('v') || song.youtubeId.split('?')[0].split('/').pop();


                    // Actualiza el contenido del DOM
                    songTitleEl.textContent = song.title;
                    songArtistEl.textContent = song.artist;
                    youtubeLinkEl.href = `https://www.youtube.com/watch?v=${videoId}`;
                    
                    // Precarga la imagen para una transición suave
                    const img = new Image();
                    img.src = song.imageUrl;
                    img.onload = () => {
                        songImageEl.src = img.src;
                        // Quita la clase de animación para que aparezca
                         songCard.classList.remove('opacity-0', 'scale-95');
                    };
                    img.onerror = () => {
                        // Si la imagen falla, usa un placeholder y quita la animación
                        songImageEl.src = `https://placehold.co/600x400/1a202c/ffffff?text=${song.artist.replace(/ /g, '+')}`;
                        songCard.classList.remove('opacity-0', 'scale-95');
                    };
                }, 400); // Espera que la animación de salida termine
            }

            // Event listener para el botón
            newSongBtn.addEventListener('click', displayNextSong);

            // Baraja la lista y muestra la primera canción al cargar la página
            shuffledSongs = shuffle([...songs]);
            displayNextSong();
        });
    </script>
</body>
</html>

